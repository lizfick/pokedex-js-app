const pokemonRepository=function(){let e=[];const t="https://pokeapi.co/api/v2/pokemon/?limit=150",n=document.querySelector("#modal-container");function o(t){"object"==typeof t&&"name"in t?e.push(t):console.log("pokemon is not correct")}function i(e){pokemonRepository.loadDetails(e).then(function(){!function(e){const t=$(".modal-body"),n=$(".modal-title");n.empty(),t.empty();const o=$("<h1>"+e.name+"</h1>"),i=$('<img class="modal-img">');i.attr("src",e.imageUrl);const s=$("<p>Height : "+e.height+" m</p>"),c=$("<p>Weight : "+e.weight+" kg</p>");n.append(o),t.append(i),t.append(s),t.append(c),$("#exampleModalLive").modal()}(e)})}function s(){n.classList.remove("is-visible")}return document.querySelector("#textbox").addEventListener("input",e=>{let t=e.target.value,n=document.querySelectorAll(".btn");for(let e=0;e<n.length;e++)n[e].innerText.toLowerCase().includes(t.toLowerCase())?n[e].style.display="inline-block":n[e].style.display="none"}),window.addEventListener("keydown",e=>{"Escape"===e.key&&n.classList.contains("is-visible")&&s()}),n.addEventListener("click",e=>{e.target===n&&s()}),{add:o,getAll:function(){return e},addListItem:function(e){const t=document.querySelector(".pokemon-list"),n=document.createElement("li"),o=document.createElement("button");o.innerText=e.name,o.classList.add("btn","btn-lg","button-class"),n.appendChild(o),t.appendChild(n),o.addEventListener("click",function(t){i(e)})},loadList:function(){return fetch(t).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){o({name:e.name.substring(0,1).toUpperCase()+e.name.substring(1),detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:function(e){const t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.weight=t.weight,e.height=t.height,e.types=t.types}).catch(function(e){console.error(e)})},showDetails:i}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});
